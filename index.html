<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>MinnPost</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link type="text/css" rel="stylesheet" media="all" href="http://www.minnpost.com/sites/default/files/css/css_bb801627df93671ec2cf2a1c9ecf4ad2.css" />
  <link type="text/css" rel="stylesheet" media="screen" href="http://www.minnpost.com/sites/default/files/css/css_b833827e9fdb99e83e393d38c32a71fd.css" />
  <link type="text/css" rel="stylesheet" media="print" href="http://www.minnpost.com/sites/default/files/css/css_dd48b5b093a35515052acfc42613d628.css" />
  <!--[if IE]>
      <link rel="stylesheet" href="http://www.minnpost.com/sites/default/themes/derma/inc/css/ie.css?j" type="text/css">
  <![endif]-->
  <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
</head>
<body class="front logged-in page-home one-sidebar sidebar-right admin-nw admin-vertical admin-df  one-sidebar sidebar-right">


  <!-- Embed Start -->
  <div class="node-body fieldlayout node-field-body">
    <style type="text/css">
      @import url('https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/src/css/bubbletree.css');
      @import url('https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/src/css/tooltip.css');
    </style>
    <style type="text/css">
      .js-dependent,
      .hide {
        display: none;
      }
      
      .bubbletree-container {
        position: relative;
        width: 100%;
        height: 600px;
        clear: both;
      }
      
      .bubbletree-wrapper {
        width: 100%;
        height: 100%;
        position: absolute;
      }
      
      .bubbletree .desc,
      .bubbletree .label2 {
        line-height: 1.2em;
      }
      
      .footnote {
        font-size: .75em;
        font-style: italic;
        color: #414141;
        margin-top: 1em;
      }
      
      .bubbletree-title {
        margin-bottom: 1em;
      }
      
      /** Media queries **/
      @media all and (max-width: 750px) {
      }
    </style>
    
    <!--
    <h4 class="bubbletree-title">Taxes in Minnesota: Where do they come from?</h4>
    -->
    
    <div class="bubbletree-container clearfix">
      <div class="bubbletree-wrapper">
    		<div class="bubbletree"></div>
    	</div>
  	</div>
    
    <p class="footnote">Projected 2013 State and Local Tax Collections by Type of Tax and Taxpayer Category.  Projected 2013 data from the <a href="http://taxes.state.mn.us/legal_policy/Documents/other_supporting_content_2011_tax_incidence_study_links.pdf">2011 Minnesota Tax Incidence Study</a>.  PTR = Property Tax Refund.  <sub>1</sub> Includes taconite/iron ore occupation tax.  <sub>2</sub> Includes Health Impact Fee.  <sub>3</sub> Includes resorts and railroads.  <sub>4</sub> Farm includes timber.</p>
    
    <p class="footnote">All icons courtesy <a href="http://thenounproject.com/">The Noun Project</a> (collection: <em>Minnesota</em> symbol by The Noun Project) and the <a href="http://okfn.org/">Open Knowledge Foundation's</a> <a href="https://github.com/okfn/bubbletree">Bubbletree library</a>.</p>
  
    <script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/jquery-1.5.2.min.js"><\/script>')</script>
    
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/jquery.history.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/jquery.tooltip.min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/raphael-min.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/vis4.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/lib/Tween.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/build/bubbletree.js"></script>
    <script type="text/javascript" src="https://s3.amazonaws.com/data.minnpost/js/bubbletree-master-20120410/styles/cofog.js"></script>
    <script type="text/javascript">
      // Redefine to fix IE issues
      vis4.DelayedTask = function(/* delay, scope, func, args */) {
	
        var me = this;
        
        me.init = function(args) {
        	var me = this, taskArgs = [];	
        	for (var i = 0; i < args.length; i++) {
        		if (i > 2) taskArgs.push(args[i]);
        	}
        	me.func = args[2];
        	me.scope = args[1];
        	me.args = taskArgs;
        	me.running = true;
        	me.timer = window.setTimeout(this.run.bind(me), args[0]);
        };
        
        me.run = function() {
        	var me = this;
        	me.func.apply(me.scope, me.args);
        	me.running = false;
        };
        
        me.cancel = function() {
        	vis4.log('canceling timer', this);
        	window.clearTimeout(this.timer);
        	this.running = false;
        };
        
        me.init(arguments);
      };
      
      // Do to the fact that MinnPost is currently running a very old version of jQuery,
      // we need to add some functions
    	if (typeof jQuery.class2type == 'undefined') {
        jQuery.class2type = {};
        // Populate the class2type map
        jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "), function(i, name) {
        	jQuery.class2type[ "[object " + name + "]" ] = name.toLowerCase();
        });
    	}
    	jQuery.hasOwn = jQuery.hasOw || Object.prototype.hasOwnProperty;
    	jQuery.toString = jQuery.toString || Object.prototype.toString;
    	jQuery.type = jQuery.type || function( obj ) {
    		return obj == null ?
    			String( obj ) :
    			jQuery.class2type[ jQuery.toString.call(obj) ] || "object";
    	};
    	jQuery.isWindow = jQuery.isWindow || function( obj ) {
        return obj && typeof obj === "object" && "setInterval" in obj;
      };
      jQuery.isPlainObject = jQuery.isPlainObject || function( obj ) {
    		// Must be an Object.
    		// Because of IE, we also have to check the presence of the constructor property.
    		// Make sure that DOM nodes and window objects don't pass through, as well
    		if ( !obj || jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
    			return false;
    		}
    
    		// Not own constructor property must be Object
    		if ( obj.constructor &&
    			!jQuery.hasOwn.call(obj, "constructor") &&
    			!jQuery.hasOwn.call(obj.constructor.prototype, "isPrototypeOf") ) {
    			return false;
    		}
    
    		// Own properties are enumerated firstly, so to speed up,
    		// if last one is own, then all properties are own.
    
    		var key;
    		for ( key in obj ) {}
    
    		return key === undefined || jQuery.hasOwn.call( obj, key );
    	};
    
      // Namespace jQuery
      (function($) {
        $(document).ready(function() {
          // Build data object
    			var data = { label: 'Total', amount: 27071000000, color: '#801019', taxonomy: 'np', name: 'total', children: [
            { label: 'Total Local Taxes', amount: 8418000000, color: '#107F3E', taxonomy: 'np', name: 'total_local', children: [
              { label: 'Property Taxes', amount: 7970000000, color: '#197F10', taxonomy: 'np', name: 'property', children: [
                { label: 'General Property Tax', amount: 7879000000, color: '#107F3E', taxonomy: 'np', name: 'general_property', children: [
                  { label: 'Homeowners (before PTR)', amount: 4044000000, color: '#24B616', taxonomy: 'np', name: 'homeowners' },
                  { label: 'Residential recreational property', amount: 188000000, color: '#24B616' },
                  { label: 'Commercial <sub>3</sub>', amount: 1494000000, color: '#24B616' },
                  { label: 'Industrial', amount: 417000000, color: '#24B616' },
                  { label: 'Farm (other than residence) <sub>4</sub>', amount: 532000000, color: '#24B616' },
                  { label: 'Rental Housing (before PTR)', amount: 991000000, color: '#24B616' },
                  { label: 'Utility', amount: 213000000, color: '#24B616' }
                ]},
                { label: 'Mining Production Taxes (taconite)', amount: 91000000, color: '#107F76' },
                { label: '', amount: 0, color: '#FFFFFF' } // placeholder
              ]},
              { label: 'Taxes on consumption', amount: 448000000, color: '#517F10', taxonomy: 'np', name: 'tax_consum', children: [
                { label: 'Local Sales Taxes', amount: 325000000, color: '#73B616', taxonomy: 'np', name: 'local_sales' },
                { label: 'Local Gross Earnings Taxes', amount: 123000000, color: '#73B616' }
              ]},
              { label: '', amount: 0, color: '#FFFFFF' } // placeholder
            ]},
            { label: 'Total State Taxes', amount: 18653000000, color: '#76107F', taxonomy: 'np', name: 'total_state_taxes', children: [
              { label: 'Total Property Taxes', amount: 1550000000, color: '#3E107F', taxonomy: 'np', name: 'total_property', children: [
                { label: 'State Property Tax', amount: 798000000, color: '#1673B6', taxonomy: 'np', name: 'state_property', children: [
                  { label: 'Residential recreational property', amount: 40000000, color: '#2595E4' },
                  { label: 'Commercial <sub>3</sub>', amount: 528000000, color: '#5CAFEB' },
                  { label: 'Industrial', amount: 149000000, color: '#1624B6' },
                  { label: 'Utility', amount: 81000000, color: '#16B6A8' }
                ]},
                { label: 'Motor vehicle registration tax', amount: 594000000, color: '#16B6A8', taxonomy: 'np', name: 'motor_vehicle' },
                { label: 'Mortgage and deed taxes', amount: 158000000, color: '#16B659' }
              ]},
              { label: 'Total Consumption Taxes', amount: 8167000000, color: '#A816B6', taxonomy: 'np', name: 'total_consum', children: [
                { label: 'Total sales tax', amount: 5709000000, color: '#1673B6', taxonomy: 'np', name: 'total_sales', children: [
                  { label: 'General sales/use tax', amount: 5134000000, color: '#2595E4' },
                  { label: 'Sales tax on motor vehicles', amount: 575000000, color: '#5CAFEB' }
                ]},
                { label: 'Motor fuels excise taxes', amount: 891000000, color: '#16B6A8' },
                { label: 'Alcoholic beverage excise taxes', amount: 81000000, color: '#16B659' },
                { label: 'Cigarette and tobacco excise taxes <sub>2</sub>', amount: 423000000, color: '#24B616' },
                { label: 'Insurance premiums taxes', amount: 395000000, color: '#1624B6' },
                { label: 'Gambling taxes', amount: 41000000, color: '#68EB5C' },
                { label: 'MinnesotaCare taxes', amount: 557000000, color: '#35E425' },
                { label: 'Solid waste management taxes', amount: 70000000, color: '#73B616' }
              ]},
              { label: 'Total Income and Estate Taxes', amount: 9487000000, color: '#7F1051', taxonomy: 'np', name: 'total_income_estate', children: [
                { label: 'Individual income tax', amount: 8484000000, color: '#7F3E10', taxonomy: 'np', name: 'ind_income' },
                { label: 'Corporation franchise tax <sub>1</sub>', amount: 830000000, color: '#7F7610' },
                { label: 'Estate tax', amount: 173000000, color: '#7F1019' }
              ]}
            ]},
            { label: '', amount: 0, color: '#FFFFFF' } // placeholder
    		  ]};
    			
    			// Styles
    			BubbleTree.Styles = BubbleTree.Styles || {};
          BubbleTree.Styles.NP = {
            'total': { icon: 'dollar.svg' },
            'total_state_taxes': { icon: 'noun_project_326a.svg' },
            'total_income_estate': { icon: 'other-medical.svg' },
            'ind_income': { icon: 'family.svg' },
            'total_consum': { icon: 'economic-aid.svg' },
            'total_sales': { icon: 'public-debt-edit.svg' },
            'total_property': { icon: 'government-uk.svg' },
            'state_property': { icon: 'our-streets.svg' },
            'motor_vehicle': { icon: 'car.svg' },
            
            'total_local': { icon: 'money.svg' },
            'property': { icon: 'government-uk.svg' },
            'general_property': { icon: 'energy2.svg' },
            'homeowners': { icon: 'housing.svg' },
            'tax_consum': { icon: 'economic-aid.svg' },
            'local_sales': { icon: 'public-debt-edit.svg' }
          };   
          
          /*
          Total: dollar

          STATE
          Total State Taxes: noun_project_326a
          Total Income and Estate Taxes: other-medical
          Individual Income Tax: family
          Total Consumption Taxes: economic-aid
          Total Sales Tax: public-debt-edit
          Total Property Taxes: government-uk
          State Property Tax: our-streets
          Motor Vehicle Registration Tax: car
          
          LOCAL
          Total Local Taxes: money
          Property Taxes: government-uk 
          General Property Tax: energy2
          Homeowners (before PTR): housing
          Taxes on Consumption: economic-aid
          Local Sales Tax: public-debt-edit 
          */
          
          // Create tooltip. 
          var $tooltip = $('<div class="tooltip">Tooltip</div>');
          $('.bubbletree').append($tooltip);
          $tooltip.hide();
          
          var tooltip = function(event) {
            // Don't show for the big total
            if (event.type == 'SHOW' && event.node.label != 'Total' && event.node.label != '') {
              // show tooltip
              $tooltip.css({ 
                left: (0 - $('.bubbletree-wrapper').offset().left) + event.mousePos.x + 4, 
                top: (0 - $('.bubbletree-wrapper').offset().top) + event.mousePos.y + 4 
              });
              $tooltip.html(event.node.label + ': <strong>' + event.node.famount + '</strong>');
              var bubble = event.target;
          
              $tooltip.show();
            }
            else {
              // hide tooltip
              $tooltip.hide();
            }
          };
    			
    			// Bubble tree is not that great and icons and IE don't mix. :(
    			if ($.browser.msie) {
            var thisBubble = new BubbleTree({
              data: data,
              container: '.bubbletree',
              tooltipCallback: tooltip
            });
          }
          else {
            var thisBubble = new BubbleTree({
              data: data,
              container: '.bubbletree',
              //tooltipCallback: tooltip,
              bubbleType: 'icon',
              rootPath: 'icons/', //'/sites/default/files/images/articles/mn-tax-bubbletree/', // For local use: 'icons/'
              bubbleStyles: {
                'np':  BubbleTree.Styles.NP
              }
            });
          }
        });
      })(jQuery);
    </script>
  </div>
  <!-- Embed End -->


</body>
</html>